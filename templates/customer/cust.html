<style type="text/css">
  .custom{
    text-align: center;
  }
  .span{
    font-size: 16px;
  }
  .custom_list li{
    width: 24% !important;
  }
  .modal-backdrop{
    z-index: -1;
  }
</style>
<nav class="navbar navbar-default" style="margin-bottom: 8px;">
  <div class="container-fluid"> 
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

       <form class="navbar-form navbar-left" role="search">
        <div class="form-group">
          <input type="text" ng-model="name" ng-change="searchCustomerByMobile({str:name,type:'name'})"  class="form-control" placeholder="Search customer name">
        </div>
        <div class="form-group">
          <input type="text" ng-model="mobile" ng-change="searchCustomerByMobile({str:mobile,type:'mobile'})"  class="form-control" placeholder="Search customer mobile">
        </div>
         <div class="well" style="position: absolute; width: 31%;z-index: 100;" ng-show="suggestionBox">
            <ul class="nav nav-pills nav-stacked" role="tablist" style="margin: -18px;">       
               <li ng-repeat="list in customerList">
                  <a ng-click="getCustomerDetails(list)" href="javascript:void(0)">
                    <span>{{list.name}}</span>
                    <span class="pull-right">{{list.mobile}}</span>
                  </a>
               </li>
            </ul>  
          </div>
        
      </form> 
      <div style="margin-top: 7px;">
        <a class="btn btn-primary" href="javascript:void(0);" data-toggle="modal" data-target="#editModal">Edit</a>

        <a class="btn btn-primary" href="javascript:void(0);" data-toggle="modal" data-target="#createModel">Create Customer</a>
      </div>

    </div>
  </div>
</nav>


<div class="col-lg-12 col-md-12 col-sm-12">
    <div class="btn-pref btn-group btn-group-justified btn-group-lg" role="group" aria-label="...">
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-primary custom" href="#General" data-toggle="tab"><i class="fa fa-star" aria-hidden="true"></i>
                <div class="hidden-xs">General</div>
            </button>
        </div>
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default custom" href="#Appointments" data-toggle="tab"><i class="fa fa-calendar" aria-hidden="true"></i>
                <div class="hidden-xs">Appointments</div>
            </button>
        </div>
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default custom" href="#Billing" data-toggle="tab"><i class="fa fa-id-card" aria-hidden="true"></i>
                <div class="hidden-xs">Billing</div>
            </button>
        </div>
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default custom" href="#Membership" data-toggle="tab"><i class="fa fa-id-card-o" aria-hidden="true"></i>
                <div class="hidden-xs">Membership</div>
            </button>
        </div>
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default custom" href="#Packages" data-toggle="tab"><i class="fa fa-gift" aria-hidden="true"></i>
                <div class="hidden-xs">Packages</div>
            </button>
        </div>
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default custom" href="#Prepaid" data-toggle="tab"><i class="fa fa-credit-card-alt" aria-hidden="true"></i>
                <div class="hidden-xs">Prepaid Cards</div>
            </button>
        </div>
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default custom" href="#Notes" data-toggle="tab"><i class="fa fa-file-text-o" aria-hidden="true"></i>
                <div class="hidden-xs">Notes</div>
            </button>
        </div>
        <!-- <div class="btn-group" role="group">
            <button type="button" class="btn btn-default custom" href="#Feedback" data-toggle="tab"><i class="fa fa-thumbs-o-up" aria-hidden="true"></i>
                <div class="hidden-xs">Feedback</div>
            </button>
        </div> -->
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default custom" href="#Pending" data-toggle="tab"><i class="fa fa-hand-paper-o" aria-hidden="true"></i>
                <div class="hidden-xs">Pending Payments</div>
            </button>
        </div>
    </div>

    <div class="well" style="padding-bottom: 0px;height: 72vh;">
      <div class="tab-content">

        <div class="tab-pane fade in active" id="General">
            <div class="col-md-3 col-sm-4" ng-repeat="gen in general">
              <div class="wrimagecard wrimagecard-topimage">
                  <div>
                    <div class="wrimagecard-topimage_header" style="background-color:rgba(51, 105, 232, 0.1)">
                      <span><i class="fa fa-{{gen.icon}}" style="color: #0cacf7"></i></span>
                      <span style="font-size: 30px;margin-left: 10px;">{{gen.key}}</span>
                    </div>
                    <div class="wrimagecard-topimage_title">
                      <h4>{{gen.value}}
                    </div>
                </div>
              </div>
            </div>
        </div>

        <div class="tab-pane fade in" id="Appointments">
         
          <div ng-repeat="apt in appointments">
            <div class="month">
              <ul>
                <li>
                  {{apt.start_month}}<br>
                  <span style="font-size:18px">{{apt.start_year}}</span>
                </li>
              </ul>
            </div>
            <ul class="weekdays">
              <li>Service</li>
              <li>Staff</li>
              <li>Booking Date</li>
            </ul>
            <ul class="days">
              <li style="font-weight: bold;">{{apt.service}}</li>
              <li style="font-weight: bold;">{{apt.staff}}</li>
              <li style="font-weight: bold;">{{apt.book_date}}</li>
            </ul>

          </div>
        </div>



        <div class="tab-pane fade in" id="Billing">
         
          <div ng-repeat="bill in billing">
               <div class="month">
                  <ul>
                    <li>
                      Invoice- {{bill.invoice}}<br>
                      <span style="font-size:18px">Total- {{bill.total}}</span>
                      <span style="font-size: 18px;" class="pull-right">
                        
                        <i ng-repeat="n in [] | range:bill.feedback" class="fa fa-star" aria-hidden="true"></i>
                      </span>
                    </li>
                  </ul>
                </div>
                <ul class="weekdays custom_list">
                  <li>Service</li>
                  <li>Staff</li>
                  <li>Quantity</li>
                  <li>Date</li>
                </ul>
                <ul class="days custom_list">
                  <li style="font-weight: bold;">{{bill.service}}</li>
                  <li style="font-weight: bold;">{{bill.staff}}</li>
                  <li style="font-weight: bold;">{{bill.quantity}}</li>
                  <li style="font-weight: bold;">{{bill.date}}</li>
                </ul>
          </div>

        </div>



        <div class="tab-pane fade in" id="Membership">
            <div class="col-xs-3" ng-repeat="mem in membership">
              <div class="project" ng-class="mem.expired == 'true' ? 'project-danger' : 'project-success'">
                <div class="shape">
                  <div class="shape-text">
                    <span ng-if="mem.expired == 'false'">Active</span>   
                    <span ng-if="mem.expired == 'true'">Inactive</span>               
                  </div>
                </div>
                <div class="project-content">
                  <h3 class="lead">
                   {{mem.name}}
                  </h3>
                  <span class="span">Discount : <strong>{{mem.discount}} %</strong></span><br><br>
                  <span class="span">Price : <strong><i class="fa fa-inr" aria-hidden="true"></i>{{mem.price}}</strong></span><br><br>
                  <span class="span">Purchase Date : <strong>{{mem.purchase}}</strong></span><br><br>
                  <span class="span">Expiry Date : <strong>{{mem.expiry}}</strong></span><br><br>
                  <span class="span">Validity Days : <strong>{{mem.validity_days}}</strong></span><br><br>
                </div>
              </div>
            </div>
        </div>


        <div class="tab-pane fade in" id="Packages">
            <div class="col-xs-3" ng-repeat="pkg in package">
              <div class="project" ng-class="pkg.expired == 'true' ? 'project-danger' : 'project-success'">
                <div class="shape">
                  <div class="shape-text">
                    <span ng-if="pkg.expired == 'false'">Active</span>   
                    <span ng-if="pkg.expired == 'true'">Inactive</span>              
                  </div>
                </div>
                <div class="project-content">
                  <h3 class="lead">
                   {{pkg.package_name}}
                  </h3>
                  <span class="span">Service : <strong>{{pkg.package_name}}</strong></span><br><br>
                  <span class="span">Price : <strong><i class="fa fa-inr" aria-hidden="true"></i>{{pkg.price}}</strong></span><br><br>
                  <span class="span">Units Available : <strong>{{pkg.unit_available}}</strong></span><br><br>
                  <span class="span">Purchase Date : <strong>{{pkg.purchase}}</strong></span><br><br>
                  <span class="span">Expiry Date : <strong>{{pkg.expiry_date}}</strong></span><br><br>
                  <span class="span">Validity Days : <strong>{{pkg.valid_days}}</strong></span><br><br>
                </div>
              </div>
            </div>
        </div>

        <div class="tab-pane fade in" id="Prepaid">
            <div class="col-xs-3" ng-repeat="prp in prepaid">

              <div class="project" ng-class="prp.expired == 'true' ? 'project-danger' : 'project-success'">
                <div class="shape">
                  <div class="shape-text">
                    <span ng-if="prp.expired == 'false'">Active</span>   
                    <span ng-if="prp.expired == 'true'">Inactive</span>               
                  </div>
                </div>
                <div class="project-content">
                  <h3 class="lead">
                   {{prp.card_name}}
                  </h3>
                  <span class="span">Card Price : <strong><i class="fa fa-inr" aria-hidden="true"></i>{{prp.card_mrp}}</strong></span><br><br>
                  <span class="span">Card Value : <strong><i class="fa fa-inr" aria-hidden="true"></i>{{prp.card_value}}</strong></span><br><br>
                  <span class="span">Remaining Value : <strong><i class="fa fa-inr" aria-hidden="true"></i>{{prp.remaining_value}}</strong></span><br><br>
                  <span class="span">Purchase Date : <strong>{{prp.purchase_date}}</strong></span><br><br>
                  <span class="span">Expiry Date : <strong>{{prp.expiry_date}}</strong></span><br><br>
                  <span class="span">Validity Days : <strong>{{prp.validity_days}}</strong></span><br><br>
                </div>
              </div>
            </div>
        </div>

        <div class="tab-pane fade in" id="Notes">
            <div ng-repeat="apt in appointments">
                <div ng-if="apt.notes != ''">
                    <div class="month">
                      <ul>
                        <li>
                          {{apt.start_month}}<br>
                          <span style="font-size:18px">{{apt.start_year}}</span>
                        </li>
                      </ul>
                    </div>
                    <ul class="weekdays">
                      <li>Service - {{apt.service}}</li>
                      <li class="pull-right">Booking Date - {{apt.book_date}}</li>
                    </ul>
                    <ul class="days">
                      <li style="font-weight: bold;">Notes - {{apt.notes}}</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="tab-pane fade in" id="Pending">
            <div ng-repeat="bill in billing">
                <div ng-if="bill.total_due != 0">
                    <div class="month">
                        <ul>
                          <li>
                            Invoice- {{bill.invoice}}<br>
                            <span style="font-size:18px">Total- {{bill.total}}</span>
                          </li>
                        </ul>
                    </div>
                    <ul class="weekdays custom_list">
                        <li>Pending Amount - {{bill.total_due}}</li>
                        
                        <li class="pull-right">Date - {{bill.date}}</li>
                    </ul>   
                </div>
            </div>
        </div>


      </div>
    </div>
</div>

<div class="modal fade" style="margin-top: 50px;" id="editModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Edit Customer</h4>
      </div>
      <div class="modal-body" style="padding-bottom: 0px !important;">
         
      <form class="form-horizontal" role="form">
        <fieldset>
          <!-- Text input-->
          <div class="form-group">
            <label class="col-sm-2 control-label" for="textinput">Name</label>
            <div class="col-sm-10">
              <input type="text" ng-model="name" placeholder="Customer Name" class="form-control">
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-sm-2 control-label" for="textinput">Mobile</label>
            <div class="col-sm-10">
              <input type="text" ng-model="mobile" placeholder="Customer Mobile" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label" for="textinput">Email</label>
            <div class="col-sm-10">
              <input type="text" ng-model="email" placeholder="Customer Email" class="form-control">
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-sm-2 control-label" for="textinput">Gender</label>
            <div class="col-sm-10">
              <select ng-model="gender">
                  <option>male</option>
                  <option>female</option>
              </select>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-sm-2 control-label" for="textinput">DOB</label>
            <div class="col-sm-10">
              <input type="text" id="datepicker" ng-model="dob" placeholder="Date of Birth" class="form-control">
            </div>
          </div>

        </fieldset>
      </form>
  

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" ng-click="updateCustomer()">Save changes</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" style="margin-top: 50px;" id="createModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Create Customer</h4>
      </div>
      <div class="modal-body" style="padding-bottom: 0px !important;">
         
      <form class="form-horizontal" role="form">
        <fieldset>
          <!-- Text input-->
          <div class="form-group">
            <label class="col-sm-2 control-label" for="textinput">Name</label>
            <div class="col-sm-10">
              <input type="text" ng-model="new_name" placeholder="Customer Name" class="form-control">
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-sm-2 control-label" for="textinput">Mobile</label>
            <div class="col-sm-10">
              <input type="text" ng-model="new_mobile" placeholder="Customer Mobile" class="form-control">
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label" for="textinput">Email</label>
            <div class="col-sm-10">
              <input type="text" ng-model="new_email" placeholder="Customer Email" class="form-control">
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-sm-2 control-label" for="textinput">Gender</label>
            <div class="col-sm-10">
              <select ng-model="new_gender">
                  <option>male</option>
                  <option>female</option>
              </select>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-sm-2 control-label" for="textinput">DOB</label>
            <div class="col-sm-10">
              <input type="text" id="datepicker" ng-model="new_dob" placeholder="Date of Birth" class="form-control">
            </div>
          </div>

        </fieldset>
      </form>
  

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" ng-click="createCustomer()">Save changes</button>
      </div>
    </div>
  </div>
</div>


<script type="text/javascript">
$(document).ready(function() {

    $("#datepicker" ).datepicker({ 
        dateFormat: 'yy-mm-dd',
        changeMonth: true,
        changeYear: true
    });

    $(".btn-pref .btn").click(function () {
        $(".btn-pref .btn").removeClass("btn-primary").addClass("btn-default");
        // $(".tab").addClass("active"); // instead of this do the below 
        $(this).removeClass("btn-default").addClass("btn-primary");   
    });
});
</script>            
